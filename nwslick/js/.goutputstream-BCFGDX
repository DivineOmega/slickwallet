
$('#set_password_button').click(function() 
{
	if ($('#set_password_button').val()!=$('#set_password_button').val())
	{
		$('#password_set_status').html('Sorry, the two passwords do not match.');
		$('#password_set_status').show();
	}
	
});

function set_password(password)
{
	var command = 'set_password';
	command += ' ';
	command += password;
	
	var net = require('net');

	var HOST = 'localhost';
	var PORT = 19912;

	var client = new net.Socket();
	
	client.on('error', function (err)
	{
		window.location = 'connection_error.html';
	});
	
	client.connect(PORT, HOST, function() 
	{
		console.log('Connected to: ' + HOST + ':' + PORT);
	});
	
	client.on('data', function(data) 
	{
		if (data=='jslick:')
		{
			if (console!=null)  console.log('Sending command: '+command);
			client.write(command+'\n');
		}
		else if (data=='okay')
		{
			window.location = 'index.html';
		}
		else
		{
			
		}
	});
	
	setTimeout(function(){ check_if_ready(); },1000);
	
}
